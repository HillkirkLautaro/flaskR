{% extends "base.html" %}

{% block title %}Inicio â€” Flaskr{% endblock %}

{% block content %}

<script>
  grecaptcha.ready(function() {
    grecaptcha.execute('{{ site_key }}', {action: 'user_creation'}).then(function(token) {
      document.getElementById('recaptcha_token').value = token;
    });
  });
</script>
<div class="main-content">
    <form method="post" class="user-form">
        {{ form.csrf_token }}
        <div>
            {{ form.username.label }} {{ form.username }}
            {% if form.username.errors %}
                <div class="error">{{ form.username.errors[0] }}</div>
            {% endif %}
        </div>
        <div>
            {{ form.email.label }} {{ form.email }}
            {% if form.email.errors %}
                <div class="error">{{ form.email.errors[0] }}</div>
            {% endif %}
            {{ form.password.label }} {{ form.password }}
            {% if form.password.errors %}
                <div class="error">{{ form.password.errors[0] }}</div>
            {% endif %}
            <input type="hidden" id="recaptcha_token" name="recaptcha_token">
            <button type="submit" class="btn">Registrar</button>
        </form>
        <p>{{ mensaje }}</p>
    </div>
    <p>{{ mensaje }}</p>
</div>
{% endblock %}