<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro de Usuario</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://www.google.com/recaptcha/api.js?render={{ site_key }}"></script>
<script>
  grecaptcha.ready(function() {
    grecaptcha.execute('{{ site_key }}', {action: 'user_creation'}).then(function(token) {
      document.getElementById('recaptcha_token').value = token;
    });
  });
</script>

</head>
<body>
    <header>
        <h1>Crear Usuario</h1>
        <nav>
            <a href="{{ url_for('main.index') }}">Inicio</a>
            <a href="{{ url_for('main.about') }}">About</a>
        </nav>
    </header>
    <div class="main-content">
        <form method="post" class="user-form">
            {{ form.csrf_token }}
            {{ form.username.label }} {{ form.username }}
            {% if form.username.errors %}
                <div class="error">{{ form.username.errors[0] }}</div>
            {% endif %}
            {{ form.email.label }} {{ form.email }}
            {% if form.email.errors %}
                <div class="error">{{ form.email.errors[0] }}</div>
            {% endif %}
            {{ form.password.label }} {{ form.password }}
            {% if form.password.errors %}
                <div class="error">{{ form.password.errors[0] }}</div>
            {% endif %}
            <input type="hidden" id="recaptcha_token" name="recaptcha_token">
            <button type="submit" class="btn">Registrar</button>
        </form>
        <p>{{ mensaje }}</p>
    </div>
    <footer>
        &copy; 2025 Mi App Flask. Todos los derechos reservados.
    </footer>
</body>
</html>